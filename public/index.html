<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Room-Based Chat App</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="chatContainer">
      <!-- Left Sidebar -->
      <div class="sidebar">
        <!-- Join Room Section -->
        <div class="joinSection">
          <h3>Join a Room</h3>
          <form id="joinForm">
            <div class="inputGroup">
              <label for="usernameInput">Username</label>
              <input
                type="text"
                id="usernameInput"
                placeholder="Enter your username"
                required
                maxlength="20"
              />
            </div>
            <div class="inputGroup">
              <label for="roomSelect">Select Room</label>
              <select id="roomSelect" required>
                <option value="">Choose a room...</option>
                <option value="General">General</option>
                <option value="Sports">Sports</option>
                <option value="Tech">Tech</option>
                <option value="Music">Music</option>
                <option value="Gaming">Gaming</option>
              </select>
            </div>
            <button type="submit" class="joinButton" id="joinButton">
              Join Room
            </button>
          </form>
        </div>

        <!-- Room Info Section -->
        <div class="roomInfo" id="roomInfo" style="display: none">
          <h2 id="currentRoomName">Room Name</h2>
          <p id="roomStatus">Connected</p>
        </div>

        <!-- User List Section -->
        <div class="userListSection" id="userListSection" style="display: none">
          <h3>Active Users</h3>
          <ul class="userList" id="userList">
            <!-- Users will be populated here -->
          </ul>
        </div>
      </div>

      <!-- Main Chat Area -->
      <div class="chatArea">
        <!-- Chat Header -->
        <div class="chatHeader">
          <h2 id="chatTitle">Welcome to Chat App</h2>
          <div class="headerControls">
            <div class="connectionStatus">
              <span class="statusIndicator" id="statusIndicator"></span>
              <span id="statusText">Connecting...</span>
            </div>
            <div class="headerButtons">
              <button
                class="clearChatButton"
                id="clearChatButton"
                style="display: none"
                title="Clear chat history"
              >
                Clear Chat
              </button>
              <button
                class="leaveRoomButton"
                id="leaveRoomButton"
                style="display: none"
              >
                Leave Room
              </button>
            </div>
          </div>
        </div>

        <!-- Messages Area -->
        <div class="messagesArea" id="messagesArea">
          <!-- Messages will be displayed here -->
        </div>

        <!-- Input Area -->
        <div class="inputArea">
          <form class="messageForm" id="messageForm">
            <input
              type="text"
              class="messageInput"
              id="messageInput"
              placeholder="Type your message here..."
              autocomplete="off"
              disabled
            />
            <button type="submit" class="sendButton" id="sendButton" disabled>
              Send
            </button>
          </form>
        </div>
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="client.js"></script>
  </body>
</html>
